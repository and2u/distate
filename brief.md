Программа для ЭВМ «DiState: Оператор ЭДО». 
Описание применения
===================================================
<!-- TOC -->

- [1. Назначение Системы](#1-назначение-системы)
    - [1.1. Объект автоматизации](#11-объект-автоматизации)
    - [1.2. Реализуемые функции](#12-реализуемые-функции)
- [2. Описание Системы](#2-описание-системы)
    - [2.1. Общая архитектура Системы, обеспечивающая требуемый функционал](#21-общая-архитектура-системы-обеспечивающая-требуемый-функционал)
    - [2.2. Состав Системы и назначение подсистем](#22-состав-системы-и-назначение-подсистем)
        - [2.2.1. Компонент «DiState: DiFlow»](#221-компонент-«distate-diflow»)
        - [2.2.2. Компонент «DiState:DiServer»](#222-компонент-«distatediserver»)
    - [2.3. Сведения о системе в целом и ее частях, необходимые для обеспечения эксплуатации Системы](#23-сведения-о-системе-в-целом-и-ее-частях-необходимые-для-обеспечения-эксплуатации-системы)
        - [2.3.1. Серверная компонента](#231-серверная-компонента)
            - [2.3.1.1. Требования к техническому обеспечению серверной компоненты:](#2311-требования-к-техническому-обеспечению-серверной-компоненты)
            - [2.3.1.2. Требования к программному обеспечению серверной компоненты](#2312-требования-к-программному-обеспечению-серверной-компоненты)
        - [2.3.2. Клиентская компонента](#232-клиентская-компонента)
        - [2.3.3. Наименование и квалификация персонала](#233-наименование-и-квалификация-персонала)
        - [2.3.4. Режим работы Системы](#234-режим-работы-системы)
- [3. Описание взаимодействия со смежными системами и сайтами](#3-описание-взаимодействия-со-смежными-системами-и-сайтами)
    - [3.1. Перечень web-ресурсов, с которыми связана Система](#31-перечень-web-ресурсов-с-которыми-связана-система)
        - [3.1.1. Система связана с публичным web-ресурсом](#311-система-связана-с-публичным-web-ресурсом)
        - [3.1.2. Система имеет отдельный URL адрес](#312-система-имеет-отдельный-url-адрес)
- [4. Принятые обозначения и сокращения](#4-принятые-обозначения-и-сокращения)

<!-- /TOC -->
  
# 1. Назначение Системы

## 1.1. Объект автоматизации

Информационная система «DiState: Оператор ЭДО» (далее – Система) предназначена
для автоматизации обмена электронными документами между [Клиентами][Клиент] [Оператора][Оператор].

## 1.2. Реализуемые функции

Основной функцией Системы является обеспечение электронного документооборота с
применением электронной подписи между организациями, индивидуальными
предпринимателями и физическими лицами.

# 2. Описание Системы

## 2.1. Общая архитектура Системы, обеспечивающая требуемый функционал
 
Общая архитектура Системы приведена на Рис.1:

![Рис.1](media/ea.png "Архитектура системы DiState")
Рис.1. Общая архитектура Системы

Система включает в себя автоматизированное рабочее место пользователя (АРМ), веб-сервер, сервер приложения, сервер баз данных, файловое хранилище и сервис [ДОЭДО]. Веб-сервер, сервер приложения, сервер баз данных и файловое хранилище могут располагаться на одном физическом или виртуальном сервере.

## 2.2. Состав Системы и назначение подсистем

Система состоит из двух компонент «DiState:DiFlow» и «DiState:DiServer». Первая
компонента размещается на серверах Оператора, вторая - облачный сервис,
обеспечивающий выполнение функций доверенного оператора [ЭДО].

### 2.2.1. Компонент «DiState: DiFlow»

-   Подсистема регистрации. Подсистема обеспечивает регистрацию компаний и пользователей Системы. Первичные регистрационные данные о пользователе и компании берутся из квалифицированного сертификата пользователя.
-   Подсистема [личного кабинета Клиента][ЛК]. Подсистема реализует функционал управления данными Клиента и предоставляет пользовательские интерфейсы для выполнения операций электронного документооборота.
-   Подсистема личного кабинета Оператора. Подсистема содержит весь функционал [Личного кабинета Клиента][ЛК], а также функционал управления Клиентами (активация/деактивация, просмотр списка Клиентов).
-   Подсистема обмена формализованными документами. Подсистема обеспечивает формирование, подписание и отправку формализованных документов (универсальный передаточный документ, универсальный корректировочный документ, акт, накладная).
-   Подсистема обмена неформализованными документами. Подсистема обеспечивает возможность обмена неформализованными типами документов.
-   Подсистема информационного обмена с сервисом [ДОЭДО].

### 2.2.2. Компонент «DiState:DiServer»

Компонент «DiState:DiServer» (сервис ДОЭДО) обеспечивает выполнение следующих функций Системы:
-   Формирование и проверка электронной подписи.
-   Формирование квитанций для документооборота по универсальным передаточным документам.
-   Формирование уникальных идентификаторов участника электронного документооборота.
-   Ведение журнала событий в Системе (аудит).
-   Прием и отправка информационных сообщений в [ФНС].

## 2.3. Сведения о системе в целом и ее частях, необходимые для обеспечения эксплуатации Системы

Система функционирует в аппаратно-программной среде и включает в себя серверные и клиентские компоненты. Серверные компоненты Системы устанавливаются на серверы Оператора. Клиентская компонента используется на компьютерах рабочих мест
пользователей Системы.

### 2.3.1. Серверная компонента

#### 2.3.1.1. Требования к техническому обеспечению серверной компоненты:

Таблица 1. Рекомендуемое техническое обеспечение серверной компоненты
| № | Наименование оборудования или программного обеспечения | Назначение             | Характеристики              |
|---|--------------------------------------------------------|------------------------|-----------------------------|
| 1 | Сервер                                                 | Для размещения Системы | Процессор: QuadCore 2.3 Ghz. Память: 8 Gb. Дисковое пространство: 500 Gb свободного места на диске |
 
Дополнительно для функционирования Системы должен быть настроены:
-   почтовый сервер;
-   доменное имя (SSL сертификат на это доменное имя);
-   настроенный внешний статический IP-адрес на основном сервере;
-   настроенные внутренние IP-адреса вышеуказанных серверов из одной подсети.

#### 2.3.1.2. Требования к программному обеспечению серверной компоненты

Таблица 2. Рекомендуемое программное обеспечение основного сервера

| № | Наименование                                               | Кол-во |
|---|------------------------------------------------------------|--------|
| 1 | Операционная система Ubuntu Linux 16.04 Lts 64-bit         | 1      |
| 2 | Веб-сервер Nginx                                           | 1      |
| 3 | СУБД PostgreSQL 9.6                                        | 1      |
| 4 | Интерпретатор PHP 7.2 c менеджером процессов FastCGI (FPM) | 1      |

### 2.3.2. Клиентская компонента

- Требования к техническому обеспечению клиентской компоненты
    IBM-совместимый компьютер:
    -   процессор Intel x86, либо Intel x86-64;
    -   тактовая частота не менее 1 ГГц;
    -   оперативная память не менее 1 Гб;
    -   жесткий диск с объемом свободного пространства не менее 100 Мб.

- Требования к программному обеспечению:
    На рабочем месте пользователя Системы должно быть установлено следующее программное обеспечение:
    -   Операционная система MS Windows (не ниже версии 7), либо операционная система MacOS 10 и выше;
    -   Интернет-браузер Google Chrome версии 55 и выше, либо Internet Explorer версии 11 и выше, либо Mozilla Firefox версии 55 и выше, либо Apple Safari 10 и выше.
    -   СКЗИ КриптоПро CSP, версия 4.0 R3 и выше;
    -   КриптоПро ЭЦП Browser plug-in 2.0.13 и выше.

> **Примечание.** Инструкция по установке и настройке криптографических продуктов, необходимых для работы пользователя с Системой, приведена в [Руководстве системного программиста].

### 2.3.3. Наименование и квалификация персонала

В работе с Системой принимают участие пользователи, имеющие следующие роли:
-   Администратор компании - пользователь, сотрудник компании-клиента Оператора или сам Клиент, отвечающий за настройку Личного кабинета компании, активацию/деактивацию пользователей Личного кабинета, раздачу полномочий пользователям Личного кабинета, внесение изменений, не связанных с изменением программного кода. Специальная подготовка не требуется, работа выполняется согласно [Руководству администратора].
-   Администратор Системы - сотрудник Оператора, отвечающий за настройку Личного кабинета Оператора, раздачу полномочий пользователям Личного кабинета, активацию/деактивацию Клиентов,внесение изменений, не связанных с изменением программного кода. Специальная подготовка не требуется, работа выполняется согласно [Руководству администратора].
-   Сотрудник компании - сотрудник Оператора или Клиента, работающий в Системе. Сотрудники получают/отправляются электронные документы и формируют электронные подписи к документам. Специальная подготовка не требуется, работа выполняется согласно [Руководству пользователя]. 
-   Системный администратор - сотрудник Оператора, отвечающий за работоспособность серверного оборудования.

Системный администратор:
-   своевременно выявляет и устраняет найденные неисправности;
-   просматривает файлы журналов установленного программного обеспечения;
-   следит за наличием свободного места на дисках;
-   производит резервное копирование Системы согласно регламенту резервного копирования и восстановления данных;
-   производит мониторинг всех запущенных сервисов в соответствии с инструкциями.

Системный администратор должен иметь квалификацию и навыки работы с техническим и программным обеспечением указанными в [требованиях к техническому обеспечению](#2311-требования-к-техническому-обеспечению-серверной-компоненты).

### 2.3.4. Режим работы Системы

Система функционирует в круглосуточном режиме. Допустимое время простоя Системы 8 часов в месяц, среднее время устранения неисправности не более 4 часов.

# 3. Описание взаимодействия со смежными системами и сайтами

## 3.1. Перечень web-ресурсов, с которыми связана Система

### 3.1.1. Система связана с публичным web-ресурсом

Вход в Систему осуществляется пользователем через кнопку «Вход», расположенную на сайте Системы, в соответствии с ролями, которые есть у пользователя. Переход
осуществляется на страницу авторизации/регистрации для вернувшихся или новых
клиентов. Подробнее см. [Руководство пользователя]. 

### 3.1.2. Система имеет отдельный URL адрес

Вход в [Личный кабинет][ЛК] может быть осуществлен при введении конкретного URL адреса размещения Системы в сети Интернет, в этом случае возможна авторизация по
зарегистрированному в системе сертификату.

# 4. Принятые обозначения и сокращения

**Оператор** - организация, предоставляющая услуги электронного документооборота
с помощью Системы юридическим лицами, индивидуальным предпринимателям и
физическим лицам (Клиентам).

**Клиент** – юридическое лицо, индивидуальный предприниматель или физическое
лицо, использующие Систему для электронного документооборота по правилам,
установленным Оператором.

**Система** – программный продукт «DiState: Оператор ЭДО».

**Владелец сертификата** – уполномоченное лицо Клиента, на имя которого выпускается сертификат ключа ЭП. Может являться сотрудником юридического лица или индивидуального предпринимателя.

**Электронная подпись** (ЭП) – реквизит [электронного документа](https://ru.wikipedia.org/wiki/%D0%AD%D0%BB%D0%B5%D0%BA%D1%82%D1%80%D0%BE%D0%BD%D0%BD%D1%8B%D0%B9_%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82), полученный в результате криптографического преобразования [информации](https://ru.wikipedia.org/wiki/%D0%98%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%86%D0%B8%D1%8F) с
использованием [закрытого ключа](https://ru.wikipedia.org/wiki/%D0%97%D0%B0%D0%BA%D1%80%D1%8B%D1%82%D1%8B%D0%B9_%D0%BA%D0%BB%D1%8E%D1%87) подписи и позволяющий проверить отсутствие искажения информации в электронном документе с момента формирования подписи (целостность), принадлежность подписи владельцу [сертификата ключа подписи](https://ru.wikipedia.org/wiki/%D0%A1%D0%B5%D1%80%D1%82%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%82_%D0%BE%D1%82%D0%BA%D1%80%D1%8B%D1%82%D0%BE%D0%B3%D0%BE_%D0%BA%D0%BB%D1%8E%D1%87%D0%B0) (авторство), а в случае успешной проверки подтвердить факт подписания электронного документа (неотказуемость). В Системе используется только квалифицированная электронная подпись (согласно 63-ФЗ «Об электронной подписи»).

**Личный кабинет** - web-интерфейс Системы для работы пользователей. У каждого
Клиента собственный Личный кабинет.

**ЭДО** - электронный документооборот

[ДОЭДО]: #222-компонент-«distatediserver»
[ЛК]: #4-принятые-обозначения-и-сокращения
[ЭДО]: #4-принятые-обозначения-и-сокращения
[Клиент]: #4-принятые-обозначения-и-сокращения
[Оператор]: #4-принятые-обозначения-и-сокращения
[ФНС]: https://www.nalog.ru/ 
[Руководстве системного программиста]: sysadminguide.md
[Руководству пользователя]: usermanual.md
[Руководству администратора]: adminguide.md